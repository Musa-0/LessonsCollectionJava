Channel - читает данные от куда-то и отправляет их куда-то

в нашем случае мы используем FileChannel и ByteBuffer
FileChannel - берет данные из буфера, и записывает их в файл
ByteBuffer - буфер работающий с байтами

input -> Buffer -> Channel -> file
записываем инфу в буфер, а channel берет эту инфу из буффера и записывает её в файл

в отличии от Stream, Channel работает в двух направлениях, он может читать данные из Buffer и записывать в файл, а может
читать данные из файла и записывать в буфер

КАК РАБОТАЕТ БУФФЕР

есть 2 режима буффера, запись и чтение
при создании буфера мы указываем его макс вмистимость в байтах

есть 3 понятия в буффере
1 position - на какой позиции чтение или запись буфера сейяас мы находимся
2 capacity - макс колличество вместимых байт
3 limit - в случае с записью в буффер, это есть макс вмистимость. а если чтение. то это то на сколько буффер заполнен,
и до какого байта мы можем прочитать

допустим мы создали буффер с вместимостью в 10 байт, а сам файл весит 23 байта
ByteBuffer buffer = ByteBuffer.allocate(10);



1)режим запись
сперва наша
position ровна 0
capacity равно 9
limit равно 9
и вот мы начинаем записывать байты из файла забив полностью буффер
теперь наша позиция ровна 9 limit так же 9. а в файле осталось не прочитанным 13 байт

2)после чего мы вызываем метод buffer.flip()
после чего, режим буфера меняется с записи на чтение, а position теперь 0, limit 9
и вот мы считываем данные до 9 байта, и вот мы уже дошли до limit

3)теперь мы вызываем метод buffer.clear()
после чего режим вновь меняется на режим записи, но записи из буффера не удаляется, он просто начинает записывать
новые вместо старых, а position равна 0

и вот мы снова заполнили на 10 байт, и прочли

4)теперь у нас осталось прочесть 3 байта в файле
position 0 и вот мы считываем данные из файла и записываем в буфер, и вот мы записали 3 байта, больше байт нет
тогда мы переключаемся на режим чтения данных из буффера, buffer.flip()

5) тепеерь наша позиция ровна 0 а лимииит равен 2(третья ячейка),и теперь наш буфер читает данные до 3 байта, вот и все